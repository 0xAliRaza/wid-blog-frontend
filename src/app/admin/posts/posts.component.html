<div class="container">
    <h3 class="text-center mt-5 mb-5">
        All Posts
    </h3>

    <div class="d-flex flex-row-reverse mb-2">
        <div class="p-2">
            <select (change)="onTableSizeChange($event)" class="custom-select">
                <option *ngFor="let size of tableSizes" [ngValue]="size">
                    {{ size }}
                </option>
            </select>
        </div>
        <div class="p-2">
            <select (change)="onPostsTypeChange($event)" [value]="type" class="custom-select">
                <option value="all" selected>
                    All
                </option>
                <option value="published">
                    Published
                </option>
                <option value="draft">
                    Draft
                </option>
            </select>
        </div>
    </div>
    <div class="table-responsive"></div>
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Featured</th>
                <th>Type</th>
                <th>Created at</th>
                <th>Updated at</th>
                <th>Options</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let post of POSTS | paginate : {
                  itemsPerPage: tableSize,
                  currentPage: page,
                  totalItems: count
                }">
                <th scope="row">{{post.id}}</th>
                <td>{{post.title}}</td>
                <td>{{post.featured}}</td>
                <td>{{post.type?.tag}}</td>
                <td>{{post.created_at | date}}</td>
                <td>{{post.updated_at | date}}</td>
                <td class="text-center" [ngStyle]="{'font-size': '18px'}">
                    <a [routerLink]="'../editor/post/' + post.id" class="text-dark">
                        <svg-icon icon="edit"></svg-icon>
                    </a>
                    <a routerLink="./" class="text-danger">
                        <svg-icon icon="trash" class="ml-2 "></svg-icon>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="d-flex justify-content-center">
        <pagination-controls responsive="true" previousLabel="Prev" nextLabel="Next"
            (pageChange)="onTableDataChange($event)">
        </pagination-controls>
    </div>

    <popup-msg [errors]="errors"></popup-msg>

</div>